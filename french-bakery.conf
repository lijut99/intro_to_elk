input {
  file {
    path => "/mylocation/datasets/bakery-september.csv"
    start_position => "beginning"
    sincedb_path => "/dev/null"
  }
}
filter {
  csv {
      separator => ","
      skip_header => "true"
      columns => ["ticket_number","article","quantity","unit_price","timestamp"]
  }
  mutate{
  convert => ["ticket_number","integer"]
  convert => ["article","string"]
  convert => ["quantity","integer"]
  convert => ["unit_price","float"]
  }
  date{
   match => ["timestamp", "dd/MM/yy HH:mm"]
   }
}
output {
   elasticsearch {
     cloud_id => "demo:dXMtY2VudHJhbDEuZ2NwLmNsb3VkLmVzLmlvOjQ0MyQzZmQwNDE1ZjMwMWY0NjA0OTBmMGNjYmYxNDE1NTdhMCQ1OTQyYjk0ZTBkNzk0Y2JmYTc2NTFhNGI3MzExZTExOA=="
     cloud_auth => "elastic:ityFIoYLuen4Tnh2tXf5L0uS"  
     index => "french-bakery"
  }

stdout {}

}
